<!DOCTYPE html>
<html>
	<head>
		<!--Style Guides for header and footer-->
		<title>QuikBites</title>
		<link rel="stylesheet" href="commonSheets.css">
		<link rel="stylesheet" href="login.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Rambla:i" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@1,900&display=swap" rel="stylesheet">
		<script>
			var ON_SIGNUP_REDIRECT = "./index.html";
		
			function onLog() {
				//gets all data
				var Fname = document.getElementById("Fname").value.trim();
				var Lname = document.getElementById("Lname").value.trim();
				var email = document.getElementById("Email").value.trim();
				var pass = document.getElementById("Pass").value;
				var passConf = document.getElementById("PassConf").value;
				
				//Verifies each field is filled
				if (Fname != "" && Lname != "" && email != "" && pass != "" && passConf != "") {
					//Checks if email is valid
					//regex [.+@.+\..+]
					var regex = /.+@.+\..+/;
					if(regex.test(email)) {
						//Checks if passwords match
						if(pass == passConf) {
							//Everything works login
							document.getElementById("Error").innerHTML = "";
							
							//Store user
							window.localStorage.setItem("Email", email);
							console.log(window.localStorage.getItem("Email"));
							
							//Redirect user
							window.location.href = ON_SIGNUP_REDIRECT;
						} else {
							document.getElementById("Error").innerHTML = "Your passwords dont match!";
							alert("Your passwords dont match!");
						}
					} else {
						document.getElementById("Error").innerHTML = "That is not an email!";
						alert("That is not an email!");
					}
				} else {
					document.getElementById("Error").innerHTML = "You have some missing Fields!";
					alert("You have some missing Fields!");
				}
				
				

			}
		</script>
	</head>
	<body>
		<div id="BackgroundArea">
			<!--Includes premade header html-->
			<iframe src="header.html" id="Header"></iframe>
			
			<!--TODO: Replace Temporary Image-->
			<div id="CenterArea">
				
				<p class="title" style="padding-top: 15px;"><span class="yellow">Quik</span>Bites</p>
				<p class = "subtitle" style="padding-bottom: 15px;">Make your next restaurant decision with QuikBites</p>
				
				<hr>
				
				<p id="fieldHeader" style="margin-top: 8px;">First name*</p>
				<div class="smallarea">
					<input type="text" id="Fname"><br>
				</div>
				<p id="fieldHeader">Last name*</p>
				<div class="smallarea">
					<input type="text" id="Lname"><br>
				</div>
				<p id="fieldHeader">Email*</p>
				<div class="smallarea">
					<input type="text" id="Email"><br>
				</div>
				<p id="fieldHeader">Password*</p>
				<div class="smallarea">
					<input type="text" id="Pass"><br>
				</div>
				<p id="fieldHeader">Confirm Password*</p>
				<div class="smallarea">
					<input type="text" id="PassConf"><br>
				</div>
				<p id="fieldHeader">* - Required Fields</p>
				<div>
					<button class="button" style="margin-top: 10px;" onclick="onLog()">Sign up</button>
				</div>
				<br>
				<p id="Error"></p>
			</div>
		</div>
		<!--Includes premade footer html-->
		<iframe src="footer.html" id="Footer"></iframe>
	</body>
</html>