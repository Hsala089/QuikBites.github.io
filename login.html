<!DOCTYPE html>
<html style="height:100%">
	<head>
		<!--Style Guides for header and footer-->
		<title>QuikBites</title>
		<link rel="stylesheet" href="commonSheets.css">
		<link rel="stylesheet" href="login.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Rambla:i" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@1,900&display=swap" rel="stylesheet">
		<script>
		
			var ON_LOGIN_REDIRECT = "./index.html";
			var ON_SIGNUP_REDIRECT = "./signup.html";
		
			function onLog() {
				var email = document.getElementById("Email").value;
				var pass = document.getElementById("Pass").value;
				
				if(email != "" && pass != "") {
					
					//Check valid email
					var regex = /.+@.+\..+/;
					if(regex.test(email)) {
						//Everything works login
						document.getElementById("Error").innerHTML = "";
							
						//Store user
						window.localStorage.setItem("Email", email);
						console.log(window.localStorage.getItem("Email"));
							
						//Redirect user
						window.location.href = ON_LOGIN_REDIRECT;
					} else {
						document.getElementById("Error").innerHTML = "Invalid Email!";
						alert("Invalid Email!");
					}
					
				} else {
					document.getElementById("Error").innerHTML = "You have some missing Fields!";
					alert("You have some missing Fields!");
				}
				window.localStorage.setItem("Email", email);
				console.print(window.localStorage.getItem("Email"));
			}
			
			function onSign() {
				window.location.href = ON_SIGNUP_REDIRECT;
			}
		</script>
	</head>
	<body>
		<!--Includes premade header html-->
		<div id="BackgroundArea">
			<iframe src="header.html" id="Header"></iframe>
			<!--TODO: Replace Temporary Image-->
			<div id="CenterArea">
				<p class="title">QuikBites Login</p><br>
				
				<hr>
				
				<p>Email</p>
				<div>
					<input type="text" id="Email">
				</div>
				<p>Password</p>
				<div>
					<input type="text" id="Pass"><br>
				</div>
				<div>
					<button onclick="onLog()">Login</button><br>
					<button onclick="onSign()">Sign up</button>
				</div>
				<p id="Error"></p>
			</div>
		</div>
		<!--Includes premade footer html-->
		<iframe src="footer.html" id="Footer"></iframe>
	</body>
		
</html>