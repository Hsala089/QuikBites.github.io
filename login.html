<!DOCTYPE html>
<html>
	<head>
		<!--Style Guides for header and footer-->
		<title>QuikBites</title>
		<link rel="stylesheet" href="commonSheets.css">
		<link rel="stylesheet" href="login.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Rambla:i" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@1,900&display=swap" rel="stylesheet">
		<script>
		
			var ON_LOGIN_REDIRECT = "./index.html";
			var ON_SIGNUP_REDIRECT = "./signup.html";
		
			function onLog() {
				var email = document.getElementById("Email").value;
				var pass = document.getElementById("Pass").value;
				
				if(email != "" && pass != "") {
					
					//Check valid email
					var regex = /.+@.+\..+/;
					if(regex.test(email)) {
						//Everything works login
						document.getElementById("Error").innerHTML = "";
							
						//Store user
						window.localStorage.setItem("Email", email);
						console.log(window.localStorage.getItem("Email"));
							
						//Redirect user
						window.location.href = ON_LOGIN_REDIRECT;
					} else {
						document.getElementById("Error").innerHTML = "Invalid Email!";
						alert("Invalid Email!");
					}
					
				} else {
					document.getElementById("Error").innerHTML = "You have some missing Fields!";
					alert("You have some missing Fields!");
				}
			}
			
			function onSign() {
				window.location.href = ON_SIGNUP_REDIRECT;
			}
		</script>
	</head>
	<body>
		<!--Includes premade header html-->
		<div id="BackgroundArea">
			<iframe src="header.html" id="Header"></iframe>
			<div id="CenterArea">
				<p class="title"><span class="yellow">Quik</span>Bites</p>
				<p class = "subtitle">Thousands of students use QuikBites to choose restaurants</p>
				<hr>
				
				<p id="fieldHeader" style="margin-top: 35px;">Email</p>
				<div class="area">
					<input type="text" id="Email" class="field">
				</div>
				<p id="fieldHeader">Password</p>
				<div class="area" style="margin-bottom: 35px;">
					<input type="password" id="Pass" class="field"><br>
				</div>
				<div>
					<button class="button" onclick="onLog();">Login</button><br>
					<button class="button"  onclick="onSign()">Sign up</button>
				</div>
				<br>
				<p id="Error"></p>
			</div>
			
		</div>
		<!--Includes premade footer html-->
		<iframe src="footer.html" id="Footer"></iframe>
	</body>
		
</html>